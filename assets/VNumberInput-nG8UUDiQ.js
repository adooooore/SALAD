import{z as J,A as q,B as O,C as Q,D as W,j as a,E as M,G as X,H as Y,I as Z,J as _,V as z,d as u,K as b,F as g,m as ee,L as U,M as $}from"./index-BjjV7tyl.js";const ne=J({controlVariant:{type:String,default:"default"},inset:Boolean,hideInput:Boolean,min:{type:Number,default:-1/0},max:{type:Number,default:1/0},step:{type:Number,default:1},...q(O(),["appendInnerIcon","prependInnerIcon"])},"VNumberInput"),ae=Q()({name:"VNumberInput",props:{...ne()},emits:{"update:modelValue":e=>!0},setup(e,K){let{attrs:te,emit:ue,slots:l}=K;const t=W(e,"modelValue"),S=a(()=>M(e.step)),E=a(()=>t.value!=null?M(t.value):0),h=X(),s=a(()=>e.disabled||e.readonly||(h==null?void 0:h.isReadonly.value)),I=a(()=>s.value?!1:t.value==null?!0:t.value+e.step<=e.max),V=a(()=>s.value?!1:t.value==null?!0:t.value-e.step>=e.min);Y(()=>{s.value||t.value!=null&&(t.value<e.min||t.value>e.max)&&(t.value=_(t.value,e.min,e.max))});const r=a(()=>e.hideInput?"stacked":e.controlVariant),y=a(()=>r.value==="split"?"$plus":"$collapse"),k=a(()=>r.value==="split"?"$minus":"$expand"),v=a(()=>r.value==="split"?"default":"small"),m=a(()=>r.value==="stacked"?"auto":"100%"),R=a(()=>({click:D})),T=a(()=>({click:w}));function f(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;if(s.value)return;if(t.value==null){t.value=0;return}const p=Math.max(E.value,S.value);n?I.value&&(t.value=+(t.value+e.step).toFixed(p)):V.value&&(t.value=+(t.value-e.step).toFixed(p))}function D(n){n.stopPropagation(),f()}function w(n){n.stopPropagation(),f(!1)}function H(n){if(!(["Enter","ArrowLeft","ArrowRight","Backspace","Delete","Tab"].includes(n.key)||n.ctrlKey)){if(["ArrowDown"].includes(n.key)){n.preventDefault(),f(!1);return}if(["ArrowUp"].includes(n.key)){n.preventDefault(),f();return}/^[0-9\-+.]+$/.test(n.key)||n.preventDefault()}}function L(n){t.value=n?+n:void 0}function x(n){n.stopPropagation()}Z(()=>{const{modelValue:n,...p}=z.filterProps(e);function N(){return l.increment?u($,{key:"increment-defaults",defaults:{VBtn:{disabled:!I.value,flat:!0,height:m.value,size:v.value,icon:y.value}}},{default:()=>[l.increment(R.value)]}):u(U,{disabled:!I.value,flat:!0,key:"increment-btn",height:m.value,name:"increment-btn",icon:y.value,onClick:D,onMousedown:x,size:v.value,tabindex:"-1"},null)}function P(){return l.decrement?u($,{key:"decrement-defaults",defaults:{VBtn:{disabled:!V.value,flat:!0,height:m.value,size:v.value,icon:k.value}}},{default:()=>[l.decrement(T.value)]}):u(U,{disabled:!V.value,flat:!0,key:"decrement-btn",height:m.value,name:"decrement-btn",icon:k.value,size:v.value,tabindex:"-1",onClick:w,onMousedown:x},null)}function C(){return u("div",{class:"v-number-input__control"},[P(),u(b,{vertical:r.value!=="stacked"},null),N()])}function F(){return!e.hideInput&&!e.inset?u(b,{vertical:!0},null):void 0}const A=r.value==="split"?u("div",{class:"v-number-input__control"},[u(b,{vertical:!0},null),N()]):e.reverse?void 0:u(g,null,[F(),C()]),j=l["append-inner"]||A,B=r.value==="split"?u("div",{class:"v-number-input__control"},[P(),u(b,{vertical:!0},null)]):e.reverse?u(g,null,[C(),F()]):void 0,G=l["prepend-inner"]||B;return u(z,ee({modelValue:t.value,"onUpdate:modelValue":L,onKeydown:H,class:["v-number-input",{"v-number-input--default":r.value==="default","v-number-input--hide-input":e.hideInput,"v-number-input--inset":e.inset,"v-number-input--reverse":e.reverse,"v-number-input--split":r.value==="split","v-number-input--stacked":r.value==="stacked"},e.class]},p,{style:e.style,inputmode:"decimal"}),{...l,"append-inner":j?function(){var c;for(var o=arguments.length,d=new Array(o),i=0;i<o;i++)d[i]=arguments[i];return u(g,null,[(c=l["append-inner"])==null?void 0:c.call(l,...d),A])}:void 0,"prepend-inner":G?function(){var c;for(var o=arguments.length,d=new Array(o),i=0;i<o;i++)d[i]=arguments[i];return u(g,null,[B,(c=l["prepend-inner"])==null?void 0:c.call(l,...d)])}:void 0})})}});export{ae as V};
